import{G as h,a as u,r as l,H as g,j as e,b as p}from"./index-GTK1aGXA.js";function n(o){return h({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(o)}const f=()=>{const o=u(),{BACKEND_URL:r,currency:d,favourites:i,setFavourites:x}=l.useContext(g),c=async()=>{try{const t=localStorage.getItem("token");if(!t)return;const a=await(await fetch(r+"/api/user/getcart",{method:"POST",headers:{"Content-Type":"application/json",token:t},body:JSON.stringify({})})).json();a.success&&x(a.cart)}catch(t){console.error("❌ Fetch Favourites Error:",t.message)}},m=async t=>{try{const s=localStorage.getItem("token"),{data:a}=await p.post(r+"/api/user/removefromcart",{hotelId:t},{headers:{token:s}});a.success&&c()}catch(s){console.error("❌ remove Favourites Error:",s.message)}};return l.useEffect(()=>{c()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-slate-800 text-center mb-12",children:"Your Favourites ❤️"}),i.length===0?e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-16 text-center",children:[e.jsx(n,{className:"text-5xl text-gray-400 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-semibold text-slate-700 mb-2",children:"No favourites yet"}),e.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"Browse our collection of hotels and add rooms to your favourites to compare and book later."})]}):e.jsx("div",{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:i.map(t=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-2xl hover:scale-105 transition",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.images?.[0]||"/images/placeholder.jpg",alt:t.name,className:"w-full h-56 object-cover"}),e.jsx("button",{onClick:()=>m(t._id),className:"absolute top-4 right-4 bg-white rounded-full p-2 shadow hover:bg-red-100 transition",children:e.jsx(n,{className:"text-red-500 text-xl"})})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("h2",{className:"text-lg font-semibold text-slate-800 truncate",children:[t.type+" Room"," ","#"+t.roomNumber]}),e.jsx("p",{className:"text-slate-600 text-sm line-clamp-2",children:t.description||"Experience luxury and comfort in our premium accommodations."}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-xl font-bold text-blue-700",children:[d,t.pricePerNight?.toLocaleString()||"0"]}),e.jsx("button",{onClick:()=>o(`/rooms/${t._id}`),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow hover:scale-105 transition",children:"View Details"})]})]})]},t._id))})]})})};export{f as default};
