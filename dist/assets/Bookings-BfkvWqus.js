import{c as i,r as n,H as _,a as S,j as e,L as A,d as F,M as $,P as I,f as U,U as L,B as R,C as P,b as u,y as x}from"./index-GTK1aGXA.js";import{C as b}from"./calendar-QonQVWlK.js";import{A as z}from"./award-B-bBHf9L.js";import{S as y}from"./star-C-KNqFkV.js";import{A as j}from"./arrow-right-DlmgJvX9.js";import{C as H}from"./chevron-right-BY_wLr5h.js";import{C as w}from"./clock-D756dfVg.js";import{C as T}from"./circle-alert-DT07prWm.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],G=i("banknote",O);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],q=i("circle-check",V);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Y=i("ellipsis-vertical",K);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Q=i("gift",J);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],X=i("sparkles",W),ie=()=>{const{BACKEND_URL:m}=n.useContext(_),N=S(),[o,h]=n.useState([]),[v,c]=n.useState(!1),[d,k]=n.useState("all"),p=localStorage.getItem("token");n.useEffect(()=>{(async()=>{try{c(!0);const{data:t}=await u.post(m+"/api/user/Bookings",{},{headers:{token:p}});h(t.bookings||[])}catch(t){console.error("Error fetching bookings:",t)}finally{c(!1)}})()},[m]),console.log(o);const D=async s=>{if(window.confirm("❓ Do you really want to cancel this booking?")){c(!0);try{const{data:r}=await u.post(m+"/api/user/cancel-booking",{BookingId:s},{headers:{token:p}});r.success?(x.success(r.message),h(l=>l.map(a=>a._id===s?{...a,status:"cancelled"}:a))):x.error(r.message)}catch(r){console.error(r),x.error("Something went wrong!")}finally{c(!1)}}},C=s=>{switch(s?.toLowerCase()){case"confirmed":return{icon:q,gradient:"from-emerald-400 via-green-500 to-emerald-600",bg:"bg-emerald-50/80",text:"text-emerald-700",border:"border-emerald-200/60",glow:"shadow-emerald-200/40"};case"pending":return{icon:w,gradient:"from-amber-400 via-yellow-500 to-orange-500",bg:"bg-amber-50/80",text:"text-amber-700",border:"border-amber-200/60",glow:"shadow-amber-200/40"};case"cancelled":return{icon:T,gradient:"from-red-400 via-rose-500 to-red-600",bg:"bg-red-50/80",text:"text-red-700",border:"border-red-200/60",glow:"shadow-red-200/40"};default:return{icon:w,gradient:"from-slate-400 via-gray-500 to-slate-600",bg:"bg-slate-50/80",text:"text-slate-700",border:"border-slate-200/60",glow:"shadow-slate-200/40"}}},f=s=>new Date(s).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),B=(s,t)=>{const r=new Date(s),l=new Date(t),a=Math.abs(l-r);return Math.ceil(a/(1e3*60*60*24))},E=s=>{const t=new Date,l=new Date(s)-t,a=Math.ceil(l/(1e3*60*60*24));return a===0?"Today":a<0?"Expired":a},M=[{key:"all",label:"All",count:o.length},{key:"confirmed",label:"Confirmed",count:o.filter(s=>s.status==="confirmed").length},{key:"pending",label:"Pending",count:o.filter(s=>s.status==="pending").length}],g=d==="all"?o:o.filter(s=>s.status===d);return v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-indigo-50/30 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-[#ff7518] to-[#FDEE00] rounded-3xl flex items-center justify-center mx-auto mb-6 animate-pulse shadow-2xl",children:e.jsx(A,{className:"animate-spin h-12 w-12 text-white"})}),e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-indigo-600/20 rounded-3xl blur-2xl animate-pulse"})]}),e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-2",children:"Loading Bookings"}),e.jsx("p",{className:"text-gray-600",children:"Fetching your reservations..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-indigo-50/30",children:[e.jsx("div",{className:"sticky top-0 z-30 backdrop-blur-2xl bg-white/80 border-b border-white/20 shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#ff7518] to-[#FDEE00] rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(b,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r  from-[#ff7518] to-[#FDEE00]  bg-clip-text text-transparent",children:"My Bookings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your hotel reservations"})]})]}),e.jsx("div",{className:"flex bg-white/70 backdrop-blur-sm rounded-2xl p-1.5 border border-white/50 shadow-xl",children:M.map(s=>e.jsxs("button",{onClick:()=>k(s.key),className:`relative px-5 py-3 text-sm font-semibold rounded-xl transition-all duration-300 ${d===s.key?"bg-gradient-to-r from-[#ff7518] to-[#FDEE00]  text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/60"}`,children:[s.label,e.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full font-bold ${d===s.key?"bg-white/25 text-white":"bg-gray-100 text-gray-600"}`,children:s.count})]},s.key))})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:g.length>0?e.jsx("div",{className:"grid gap-8 lg:grid-cols-2",children:g.filter(s=>s.roomDetails?.images).map(s=>{const t=C(s.status),r=t.icon,l=B(s.checkIn,s.checkOut),a=E(s.checkIn);return e.jsxs("div",{className:"group relative bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 hover:shadow-3xl transition-all duration-500 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/60 via-blue-50/30 to-purple-50/30 opacity-60"}),e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx("img",{src:s.roomDetails?.images?.[0]||"/api/placeholder/600/400",alt:`Room ${s.roomDetails?.roomNumber}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute top-4 left-4 bg-black/30 backdrop-blur-md text-white px-3 py-1.5 rounded-xl font-semibold text-sm",children:["Room ",s.roomDetails?.roomNumber]}),e.jsxs("div",{className:`absolute top-4 right-4 inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-semibold ${t.bg} ${t.text} ${t.border} border backdrop-blur-sm shadow-lg`,children:[e.jsx(r,{className:"w-4 h-4 mr-1.5"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2",children:[s.roomDetails?.isBestSeller&&e.jsxs("span",{className:"bg-gradient-to-r from-orange-400 to-red-500 text-white px-2 py-1 rounded-lg text-xs font-bold flex items-center",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Bestseller"]}),s.roomDetails?.isFeatured&&e.jsxs("span",{className:"bg-gradient-to-r from-purple-400 to-pink-500 text-white px-2 py-1 rounded-lg text-xs font-bold flex items-center",children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Featured"]})]})]}),e.jsxs("div",{className:"relative p-6 space-y-5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:[s.roomDetails?.type.charAt(0).toUpperCase()+s.roomDetails?.type.slice(1)," ","Room"]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(y,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.roomDetails?.rating]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.roomDetails?.reviews," reviews"]}),s.roomDetails?.offer&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{className:"text-green-600 font-medium flex items-center",children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),s.roomDetails?.offer,"% Discount"]})]})]})]}),a&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a}),e.jsx("p",{className:"text-xs text-gray-500",children:"days to go"})]})]}),e.jsxs("div",{className:"bg-gray-50/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-100/80",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Guest Details"]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Y,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Name"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"Email"]}),e.jsx("span",{className:"font-medium text-gray-900 text-right",children:s.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"Phone"]}),e.jsx("span",{className:"font-medium text-gray-900",children:s.phone})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50/80 backdrop-blur-sm rounded-xl p-4 border border-blue-100/60",children:[e.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Check-in/out"})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f(s.checkIn)}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f(s.checkOut)}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[l," night",l>1?"s":""]})]}),e.jsxs("div",{className:"bg-green-50/80 backdrop-blur-sm rounded-xl p-4 border border-green-100/60",children:[e.jsxs("div",{className:"flex items-center text-green-700 mb-2",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Occupancy"})]}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[s.guests," Adults"]}),s.children>0&&e.jsxs("p",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),s.children," Children"]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Max: ",s.roomDetails?.capacity]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between pt-4 border-t border-gray-200/80 gap-4",children:[e.jsxs("div",{className:"flex flex-col w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-nowrap overflow-hidden",children:[e.jsx(P,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsx("span",{className:"text-sm text-gray-600 whitespace-nowrap truncate",children:s.paymentMethod}),!s.isPaid&&e.jsxs("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-full font-medium flex items-center shrink-0",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Unpaid"]}),s.isPaid&&e.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full font-medium shrink-0",children:"Paid"})]}),e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsxs("span",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["₹",s.grandTotal?.toLocaleString()]}),e.jsx("span",{className:"text-sm text-gray-500",children:"total"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>N(`/rooms/${s.roomDetails._id}`),className:"w-full sm:w-auto whitespace-nowrap bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center group",children:[s.status==="cancelled"?"Book Again":"View Room",e.jsx(j,{className:"w-4 h-4 ml-2 group-hover:translate-x-0.5 transition-transform"})]}),s.status==="cancelled"?null:e.jsxs("button",{onClick:()=>D(s._id),className:"w-[50%] sm:w-auto whitespace-nowrap bg-gradient-to-r from-red-600 to-pink-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-red-700 hover:to-pink-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center group",children:["Cancel Booking",e.jsx(j,{className:"w-3 h-3 ml-1 group-hover:translate-x-0.5 transition-transform"})]})]})]})]})]},s._id)})}):e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 to-purple-100 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-2xl",children:e.jsx(b,{className:"w-16 h-16 text-gray-400"})}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Bookings Found"}),e.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"You haven't made any reservations yet. Discover amazing hotels and create your first booking experience!"}),e.jsxs("button",{className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:[e.jsx(X,{className:"w-5 h-5 mr-3"}),"Explore Hotels",e.jsx(H,{className:"w-5 h-5 ml-3"})]})]})})})]})};export{ie as default};
