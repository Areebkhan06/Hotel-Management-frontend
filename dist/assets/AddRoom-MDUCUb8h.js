import{r as c,H as j,j as e,b as N,y as v}from"./index-GTK1aGXA.js";const k=()=>{const{token:u,BACKEND_URL:x}=c.useContext(j),[p,m]=c.useState(!1),[s,i]=c.useState({roomNumber:"",type:"",pricePerNight:"",status:"available",description:"",images:[null,null,null,null],amenities:[],features:[],capacity:"",rating:"",reviews:"",isBestSeller:!1,isFeatured:!1,offer:""}),g=["WiFi","TV","Air Conditioning","Mini Fridge","Balcony"],b=["Free Wi-Fi","Air Conditioning","Flat-screen TV","Mini Fridge","Room Service","Coffee Maker","Private Bathroom","Balcony","In-room Safe","Toiletries"],l=t=>{const{name:a,value:r,type:y,checked:o}=t.target;if(a==="rating"){let n=parseFloat(r);isNaN(n)&&(n=""),n>5&&(n=5),n<1&&n!==""&&(n=1),i({...s,[a]:n})}else i(a==="amenities"?n=>({...n,amenities:o?[...n.amenities,r]:n.amenities.filter(d=>d!==r)}):a==="features"?n=>({...n,features:o?[...n.features,r]:n.features.filter(d=>d!==r)}):y==="checkbox"?{...s,[a]:o}:{...s,[a]:r})},f=(t,a)=>{const r=[...s.images];r[t]=a,i({...s,images:r})},h=async t=>{t.preventDefault(),m(!0),console.log(s);const a=new FormData;a.append("roomNumber",s.roomNumber),a.append("type",s.type),a.append("pricePerNight",s.pricePerNight),a.append("status",s.status),a.append("description",s.description),a.append("rating",s.rating),a.append("reviews",s.reviews),a.append("isBestSeller",s.isBestSeller),a.append("isFeatured",s.isFeatured),a.append("offer",s.offer),a.append("capacity",s.capacity),s.amenities.forEach(r=>a.append("amenities[]",r)),s.features.forEach(r=>a.append("features[]",r)),s.images.forEach(r=>{r&&a.append("images",r)});try{const r=await N.post(x+"/api/admin/add-room",a,{headers:{"Content-Type":"multipart/form-data",token:u||localStorage.getItem("admintoken")}});r.data.success&&(v.success("Room Added"),i(initialFormData)),r.data.success===!1&&r.data.message==="Invalid or expired token"?(localStorage.removeItem("admintoken"),window.location.href="/admin-pannel"):console.error(error)}catch(r){console.log(r)}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-2",children:"Add New Room"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Fill in the details to add a new room to your hotel"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Number"}),e.jsx("input",{type:"text",name:"roomNumber",placeholder:"Enter room number",value:s.roomNumber||"",onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type"}),e.jsxs("select",{name:"type",value:s.type,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",children:[e.jsx("option",{value:"",children:"-- Select Room Type --"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Double",children:"Double"}),e.jsx("option",{value:"Deluxe",children:"Deluxe"}),e.jsx("option",{value:"Suite",children:"Suite"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Capacity"}),e.jsx("input",{type:"number",name:"capacity",placeholder:"Enter room number",value:s.capacity,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Per Night ($)"}),e.jsx("input",{type:"number",name:"pricePerNight",placeholder:"Enter price",value:s.pricePerNight,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("select",{name:"status",value:s.status,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",children:e.jsx("option",{value:"available",children:"Available"})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",placeholder:"Enter room description",value:s.description,onChange:l,rows:"4",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 resize-none"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Amenities & Features"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Amenities"}),e.jsx("div",{className:"space-y-3",children:g.map((t,a)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-white rounded-lg p-2 transition duration-150",children:[e.jsx("input",{type:"checkbox",name:"amenities",value:t,checked:s.amenities?.includes(t),onChange:l,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:t})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Features"}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:b.map((t,a)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-white rounded-lg p-2 transition duration-150",children:[e.jsx("input",{type:"checkbox",name:"features",value:t,checked:s.features?.includes(t),onChange:l,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:t})]},a))})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Rating & Reviews"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating (1-5)"}),e.jsx("input",{type:"number",name:"rating",placeholder:"Enter rating",min:1,max:5,step:"0.1",value:s.rating,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Reviews"}),e.jsx("input",{type:"number",name:"reviews",placeholder:"Enter review count",value:s.reviews,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Room Images"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[0,1,2,3].map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Image ",t+1]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"file",onChange:a=>f(t,a.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition duration-200",accept:"image/*"})})]},t))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Special Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"isBestSeller",checked:s.isBestSeller,onChange:l,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 font-medium whitespace-nowrap",children:"Best Seller"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"isFeatured",checked:s.isFeatured,onChange:l,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Featured"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Offer"}),e.jsx("input",{type:"text",name:"offer",placeholder:"Enter special offer details",value:s.offer,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200"})]})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-4 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:p?"Adding Room..":"Add Room"})})]})]})})})};export{k as default};
