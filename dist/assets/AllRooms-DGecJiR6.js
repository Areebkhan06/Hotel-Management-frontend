import{c as x,g as k,a as A,r as i,H as R,j as e,b as p,y as _}from"./index-GTK1aGXA.js";import{A as n}from"./award-B-bBHf9L.js";import{S as b}from"./star-C-KNqFkV.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],l=x("crown",S);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],f=x("pencil",z);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],j=x("trash-2",$),B=()=>{const N=k(),o=A(),y=N.pathname.includes("rooms"),{BACKEND_URL:c}=i.useContext(R),m=localStorage.getItem("admintoken"),[t,h]=i.useState([]),[v,g]=i.useState(!0),w=async()=>{try{g(!0);const{data:s}=await p.post(c+"/api/admin/adminAllRooms",{},{headers:{token:m}});if(s.success){const r=s.rooms.map(a=>({...a,amenities:Array.isArray(a.amenities)?a.amenities:[],features:Array.isArray(a.features)?a.features:[]}));h(r.sort((a,d)=>a.roomNumber-d.roomNumber)),console.log(t)}else console.log("Not Authorised")}catch(s){console.error("Error fetching rooms:",s)}finally{g(!1)}};i.useEffect(()=>{w()},[y]);const u=async s=>{if(window.confirm("Are you sure you want to delete this room?"))try{const{data:r}=await p.post(c+"/api/admin/deleteRoom",{roomId:s},{headers:{token:m}});r.success?(_.success(r.message),h(a=>a.filter(d=>d._id!==s))):alert("Failed to delete room")}catch(r){console.error("Error deleting room:",r)}};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading rooms..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(l,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-gray-900 via-blue-900 to-indigo-900 bg-clip-text text-transparent",children:"All Rooms"})]}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-lg ml-10 sm:ml-0",children:"Manage all hotel rooms and their details"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center mx-auto sm:mx-0",children:e.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:t.length})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Total Rooms"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900"})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto sm:mx-0",children:e.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:t.filter(s=>s.status==="available").length})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Available"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900"})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl flex items-center justify-center mx-auto sm:mx-0",children:e.jsx(l,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Bestsellers"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t.filter(s=>s.isBestSeller).length})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl flex items-center justify-center mx-auto sm:mx-0",children:e.jsx(n,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Featured"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t.filter(s=>s.isFeatured).length})]})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-lg border border-white/20 rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"block lg:hidden",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:"Rooms"})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[t.map((s,r)=>e.jsx("div",{className:"p-4 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:s.images[0],alt:"room",loading:"lazy",className:"w-16 h-12 object-cover rounded-lg shadow-lg border border-gray-200"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:s.roomNumber})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:s.type}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Room #",s.roomNumber]})]}),e.jsxs("div",{className:"text-right flex items-center gap-1",children:[e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["â‚¹",s.pricePerNight]}),e.jsx("p",{className:"text-xs text-gray-500",children:"/night"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status==="available"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mr-1 ${s.status==="available"?"bg-green-500":"bg-red-500"}`}),s.status]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:s.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[s.isBestSeller&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:[e.jsx(l,{className:"w-2 h-2 mr-1"}),"Bestseller"]}),s.isFeatured&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:[e.jsx(n,{className:"w-2 h-2 mr-1"}),"Featured"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>o(`/admin-pannel/update/${s._id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",children:e.jsx(f,{size:16})}),e.jsx("button",{type:"button",disabled:s.status==="booked",onClick:()=>{s.status!=="booked"&&u(s._id)},className:`p-2 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md
                            ${s.status==="booked"?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,children:e.jsx(j,{size:18})})]})]})]})]})},s._id)),t.length===0&&e.jsx("div",{className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-4",children:e.jsx(l,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No rooms found"}),e.jsx("p",{className:"text-gray-400",children:"Add your first room to get started"})]})})]})]}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Room"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Details"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Features"}),e.jsx("th",{className:"px-6 py-5 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t.map((s,r)=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 transition-all duration-300 group",children:[e.jsx("td",{className:"px-6 py-6",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.images[0],alt:"room",className:"w-20 h-16 object-cover rounded-xl shadow-lg border border-gray-200 group-hover:shadow-xl transition-shadow duration-300"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:s.roomNumber})]})})}),e.jsx("td",{className:"px-6 py-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 capitalize",children:s.type}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Room #",s.roomNumber]})]})}),e.jsx("td",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:["â‚¹",s.pricePerNight]}),e.jsx("span",{className:"text-sm text-gray-500",children:"/night"})]})}),e.jsx("td",{className:"px-6 py-6",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s.status==="available"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border border-green-200":"bg-gradient-to-r from-red-100 to-rose-100 text-red-700 border border-red-200"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s.status==="available"?"bg-green-500":"bg-red-500"}`}),s.status]})})}),e.jsx("td",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:s.rating})]})}),e.jsx("td",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.isBestSeller&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 border border-amber-200",children:[e.jsx(l,{className:"w-3 h-3 mr-1"}),"Bestseller"]}),s.isFeatured&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 border border-purple-200",children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),"Featured"]}),!s.isBestSeller&&!s.isFeatured&&e.jsx("span",{className:"text-gray-400 text-sm",children:"-"})]})}),e.jsx("td",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>o(`/admin-pannel/update/${s._id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md",children:e.jsx(f,{size:18})}),e.jsx("button",{type:"button",disabled:s.status==="booked",onClick:()=>{s.status!=="booked"&&u(s._id)},className:`p-2 rounded-xl transition-all duration-200 hover:scale-110 hover:shadow-md
                              ${s.status==="booked"?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-red-600 hover:bg-red-50"}`,children:e.jsx(j,{size:18})})]})})]},s._id)),t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-4",children:e.jsx(l,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No rooms found"}),e.jsx("p",{className:"text-gray-400",children:"Add your first room to get started"})]})})})]})]})})]})]})})};export{B as default};
