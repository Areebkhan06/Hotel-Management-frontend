import{c as y,a as w,r as a,H as j,j as e,M as v,e as N,b as k}from"./index-GTK1aGXA.js";import{E as C,a as S}from"./eye-B_IgCBA6.js";import{C as E}from"./circle-alert-DT07prWm.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x=y("lock",I),A=()=>{const l=w(),{BACKEND_URL:u,setUser:g,settoken:h}=a.useContext(j),[t,b]=a.useState({email:"",password:""}),[n,p]=a.useState(!1),[d,c]=a.useState(!1),[r,o]=a.useState({type:"",text:""}),m=i=>{b({...t,[i.target.name]:i.target.value}),r.text&&o({type:"",text:""})},f=async i=>{i.preventDefault(),c(!0),o({type:"",text:""});try{const{data:s}=await k.post(u+"/api/user/login",{email:t.email,password:t.password});s.success?(g(!0),h(s.token),localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),setTimeout(()=>l("/"),1e3)):o({type:"error",text:s.message||"Invalid credentials"})}catch(s){console.error("âŒ API Error:",s.response?.data||s.message),o({type:"error",text:"Login failed. Please try again."})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full mb-4",children:e.jsx(x,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",type:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:m,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 focus:bg-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",type:n?"text":"password",name:"password",placeholder:"Enter your password",value:t.password,onChange:m,required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 focus:bg-white"}),e.jsx("button",{type:"button",onClick:()=>p(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-gray-600 transition-colors duration-200",children:n?e.jsx(C,{className:"h-5 w-5 text-gray-400"}):e.jsx(S,{className:"h-5 w-5 text-gray-400"})})]})]}),r.text&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${r.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[r.type==="success"?e.jsx(N,{className:"w-5 h-5 flex-shrink-0"}):e.jsx(E,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:r.text})]}),e.jsx("button",{onClick:f,disabled:d||!t.email||!t.password,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:hover:scale-100 shadow-lg hover:shadow-xl disabled:shadow-md",children:d?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("button",{onClick:()=>l("/forget-password"),className:"text-blue-600 hover:text-blue-700 transition-colors duration-200 font-medium",children:"Forgot Password?"}),e.jsxs("span",{className:"text-gray-500",children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>l("/signup"),className:"text-blue-600 hover:text-blue-700 transition-colors duration-200 font-medium",children:"Sign Up"})]})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Your information is protected with industry-standard encryption"})})]})})};export{A as default};
