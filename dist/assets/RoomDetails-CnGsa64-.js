import{c,u as P,a as E,r,H,j as e,U,b as w,y as G}from"./index-GTK1aGXA.js";import{S as v}from"./star-C-KNqFkV.js";import{A as W}from"./arrow-right-DlmgJvX9.js";import{C as q}from"./calendar-QonQVWlK.js";import{T as z,W as K}from"./wifi-BG0ZSCRf.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Z=c("arrow-left",V);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],Q=c("badge",J);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Y=c("heart",X);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],se=c("snowflake",ee),ie=()=>{const{id:n}=P(),d=E(),{BACKEND_URL:p,Rooms:m,currency:b,CartItem:k,BookingRoomDetails:C,favourites:f}=r.useContext(H),[t,S]=r.useState(null),[h,x]=r.useState(0),[o,A]=r.useState(""),[i,L]=r.useState(""),[j,_]=r.useState(1),[y,I]=r.useState(0),[g,D]=r.useState(null),[u,te]=r.useState(!1),R=new Date().toISOString().split("T")[0],N=g?.length>0?g[g.length-1].checkOut.split("T")[0]:R;if(console.log("Last booked check-in:",N),r.useEffect(()=>{if(m.length>0){const s=m.find(a=>a._id===n);S(s),console.log(s)}},[m,n]),!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-600",children:"Loading room details..."});const B=()=>{x(s=>s===t.image.length-1?0:s+1)},F=()=>{x(s=>s===0?t.image.length-1:s-1)};console.log(k);const T=s=>{switch(s){case"WiFi":return e.jsx(K,{className:"w-5 h-5"});case"TV":return e.jsx(z,{className:"w-5 h-5"});case"Air Conditioning":return e.jsx(se,{className:"w-5 h-5"});default:return null}},O=async()=>{if(!o||!i){alert("Please enter Booking Dates");return}const s=new Date(o);if(new Date(i)<=s){alert("Please select valid dates");return}try{const{data:l}=await w.post(p+"/api/user/checkRoomAvalibility",{id:n,checkIn:o,checkOut:i});l.isAvailable?(await C(n,o,i,j,y),d("/Booking-page"),console.log(l)):(D(l.bookedDates),G.error(l.message))}catch(l){console.log(l)}},$=async s=>{if(f.some(l=>l._id===s))return d("/favourite");try{const l=localStorage.getItem("token");console.log(l);const{data:M}=await w.post(p+"/api/user/addtocart",{hotelId:s},{headers:{token:l}});M.success&&d("/favourite")}catch(l){console.log(l)}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 pr-5 gap-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-5 pr-3",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:[t.type.charAt(0).toUpperCase()+t.type.slice(1)," ","Room #",t.roomNumber]}),t.isBestSeller&&e.jsxs("span",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-1 shadow-sm",children:[e.jsx(Q,{className:"w-4 h-4"}),"Best Seller"]}),t.isFeatured&&e.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-1 shadow-sm",children:[e.jsx(v,{className:"w-4 h-4"}),"Featured"]}),e.jsxs("button",{onClick:()=>$(t._id),className:"sm:ml-auto flex items-center gap-2 px-5 py-2 bg-red-400 text-white text-sm font-semibold rounded-full shadow-md hover:bg-blue-700 hover:shadow-lg transition-all duration-200",children:[e.jsx(Y,{className:"w-4 h-4"}),f.some(s=>s._id===n)?"Favourite":"Add to Fav"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-semibold",children:t.rating}),e.jsxs("span",{className:"whitespace-nowrap",children:["(",t.reviews," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsxs("span",{className:"whitespace-nowrap",children:[t.bookedCount," people booked"]})]})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:[b,t.pricePerNight.toLocaleString(),e.jsx("span",{className:"text-lg text-gray-500 font-normal",children:"/night"})]}),t.offer&&e.jsxs("div",{className:"bg-green-100 text-green-800 whitespace-nowrap px-3 py-1 rounded-full text-sm font-semibold mt-2 flex items-center justify-center gap-1",children:[t.offer,"% Discount"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsxs("div",{className:"relative h-96 bg-gray-200 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:t.images[h],alt:`Room ${t.roomNumber}`,className:"w-full h-full object-cover"}),t.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:F,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition-all",children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:B,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition-all",children:e.jsx(W,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[h+1," / ",t.images.length]})]}),t.images.length>1&&e.jsx("div",{className:"flex gap-2 mt-4",children:t.images.map((s,a)=>e.jsx("button",{onClick:()=>x(a),className:`w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${h===a?"border-blue-500":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("img",{src:s,alt:`Room view ${a+1}`,className:"w-full h-full object-cover"})},a))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About This Room"}),e.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:t.description})]}),t.amenities&&t.amenities.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.amenities.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[T(s.trim()),e.jsx("span",{className:"font-medium text-gray-700",children:s.trim()})]},a))})]}),t.features&&t.features.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Special Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.features.map((s,a)=>e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsx("span",{className:"font-medium text-gray-700",children:s.trim()})},a))})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg sticky top-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Book This Room"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Date"}),e.jsx("input",{type:"date",required:!0,min:N,value:o,onChange:s=>A(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Date"}),e.jsx("input",{type:"date",required:!0,min:o,value:i,onChange:s=>L(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guests"}),e.jsx("select",{value:j,onChange:s=>_(Number(s.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[...Array(t.capacity)].map((s,a)=>e.jsxs("option",{value:a+1,children:[a+1," Guest",a+1>1?"s":""]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Children"}),e.jsx("select",{value:y,onChange:s=>I(Number(s.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[...Array(4)].map((s,a)=>e.jsxs("option",{value:a,children:[a," ",a<=1?"Child":"Children"]},a))})]}),e.jsx("div",{className:"border-t pt-4 mt-6",children:e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Total per night:"}),e.jsxs("span",{className:"text-blue-600",children:[b,t.pricePerNight.toLocaleString()]})]})}),e.jsx("button",{onClick:O,disabled:u,className:`w-full py-3 sm:py-4 rounded-lg font-semibold text-base sm:text-lg transition-all duration-300 
                    ${u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg active:scale-95"}`,children:u?"Processing...":"Book Now"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-gray-500 mt-4",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:"Free cancellation up to 24 hours before check-in"})]})]})]})})]})]})})};export{ie as default};
